# Шаблон для задач с оценкой уровня покрытия кода тестами

Все стандартные команды действуют.

Вместо автотестов выполняется скрипт `./test.sh` и оценивается уровень покрытия кода тестами.

Посмотрите комментарии в файле `test.sh` и адаптируйте для тестирования своей программы.

Код результата `test.sh` можно посмотреть следующим образом:
```
./test.sh
echo $?
```
0 — тесты прошли успешно, 1 — какой-то из тестов падает, но вы не пометили его как тест с ожидаемой ошибкой.

Для локального тестирования установите программу lcov и выполните следующие команды:

```
make clean # если ранее запускали просто make
make coverage
./test.sh
lcov --capture --directory . --no-external --output-file coverage.info
.github/coverage.sh
```

После выполнения последней команды откройте появившийся файл `coverage/index.html` в браузере, чтобы просмотреть подробный (построчный) отчёт о покрытии кода.

Обратите внимание на тот факт, что данные о покрытии накапливаются между разными запусками. Поэтому для «чистого» результата, который описывает только последнее состояние кода, лучше перед очередным запуском `./main` удалять файлы `coverage.info, *.gc*` вручную или с помощью команды `make clean`.
